{% extends "core/base.html" %}
{% load crispy_forms_tags %}

{% block content %}
  <!-- Global Container -->
  <div class="flex items-center justify-center min-h-screen bg-gray-50">

    <!-- Card Container -->
    <div class="relative bg-white shadow-2xl rounded-2xl mx-6 md:mx-0 p-6 space-y-6 max-w-xl w-full">

      <h5 class="text-3xl font-bold text-green-700 mb-5 mt-2 text-center">Registrarse</h5>

      <form action="" method="post">
        {% csrf_token %}

        <!-- Form Fields (One column) -->
        <div class="space-y-4">

          <!-- Nombre de usuario -->
          <div class="form-group">
            <label for="username" class="text-lg font-medium text-gray-700">Nombre de usuario</label>
            <input type="text" name="username" id="username" class="mt-2 p-3 border border-gray-300 rounded-md w-full" value="{% if form.username.value %}{{ form.username.value }}{% endif %}" placeholder="Ingresa tu nombre de usuario" required>

            {% if form.username.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.username.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>

          <!-- Nombres -->
          <div class="form-group">
            <label for="first_name" class="text-lg font-medium text-gray-700">Nombres</label>
            <input type="text" name="first_name" id="first_name" class="mt-2 p-3 border border-gray-300 rounded-md w-full" value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}" placeholder="Ingresa tus nombres" required>

            {% if form.first_name.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.first_name.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>

          <!-- Apellidos -->
          <div class="form-group">
            <label for="last_name" class="text-lg font-medium text-gray-700">Apellidos</label>
            <input type="text" name="last_name" id="last_name" class="mt-2 p-3 border border-gray-300 rounded-md w-full" value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}" placeholder="Ingresa tus apellidos" required>

            {% if form.last_name.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.last_name.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>

          <!-- Correo electrónico -->
          <div class="form-group">
            <label for="email" class="text-lg font-medium text-gray-700">Correo electrónico</label>
            <input type="email" name="email" id="email" class="mt-2 p-3 border border-gray-300 rounded-md w-full" {% if form.email.value %}{{ form.email.value }}{% endif %}" placeholder="Ingresa tu correo electrónico" required>
            
            {% if form.email.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.email.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
            
            {% if form.email.help_text %}
              <small class="text-gray-500 text-xs">{{ form.email.help_text }}</small>
            {% endif %}
          </div>

          <!-- Contraseña -->
          <div class="form-group">
            <label for="password1" class="text-lg font-medium text-gray-700">Contraseña</label>
            <input type="password" name="password1" id="password1" class="mt-2 p-3 border border-gray-300 rounded-md w-full" placeholder="Crea una contraseña segura" required>

            {% if form.password1.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.password1.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>

          <!-- Confirmar contraseña -->
          <div class="form-group">
            <label for="password2" class="text-lg font-medium text-gray-700">Confirmar contraseña</label>
            <input type="password" name="password2" id="password2" class="mt-2 p-3 border border-gray-300 rounded-md w-full" placeholder="Repite tu contraseña" required>

            {% if form.password2.errors %}
              <div class="text-red-500 text-sm mt-1">
                {% for error in form.password2.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>

        </div>

        <!-- Botón de envío -->
        <div class="flex justify-center mt-6">
          <button type="submit" class="w-full md:w-auto p-3 font-bold text-white rounded-md shadow-lg bg-green-700 hover:bg-green-600 transition duration-300">
            Registrarse
          </button>
        </div>

        <!-- Enlace para iniciar sesión -->
        <div class="mt-4 text-center">
          <span class="text-gray-500">¿Ya tienes una cuenta?</span>
          <a href="{% url 'login' %}" class="text-green-700 font-semibold">Iniciar sesión</a>
        </div>
      </form>

    </div>
  </div>
{% endblock %}
