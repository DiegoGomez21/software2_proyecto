{% extends "core/base.html" %}
{% load static %}

{% block content %}
  
  <div class="product-list">
    {% for product in products %}
      <div class="product-item">
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
        {% else %}
          <img src="{% static 'default_image.png' %}" alt="{{ product.name }}" class="product-image">  <!-- Cambia a una imagen por defecto -->
        {% endif %}
        <div class="product-details">
          <h2>{{ product.name }}</h2>
          {% comment %} <p class="description">{{ product.description }}</p> {% endcomment %}
          <p class="price">Precio: ${{ product.price }}</p>
          <p class="quantity">Cantidad disponible: {{ product.quantity }}</p>
          {% comment %} <p class="provider">Proveedor: {{ product.provider }}</p> {% endcomment %}
        </div>
      </div>
    {% empty %}
      <p>No hay productos disponibles en este momento.</p>
    {% endfor %}
  </div>

  <div class="cart-icon">
    <img src="{% static 'cart_icon.png' %}" alt="Carrito" id="cart-icon" />
    <span id="cart-count">0</span>
  </div>

  {% if is_paginated %}
    <div class="pagination">
      {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; primera</a>
        <a href="?page={{ page_obj.previous_page_number }}">anterior</a>
      {% endif %}

      <span class="current">
        Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
      </span>

      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">siguiente</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">última &raquo;</a>
      {% endif %}
    </div>
  {% endif %}
  {% comment %} {% block scripts %}
    <script src="{% static 'js/cart.js' %}"></script>
  {% endblock %} {% endcomment %}
{% endblock %}
